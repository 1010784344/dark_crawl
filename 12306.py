# -*- coding: utf-8 -*-
import requests
import base64
import re
import json

session = requests.Session()
# 基于requests的get请求
if __name__ == '__main__':
    # 图片信息下载
    url = 'https://kyfw.12306.cn/passport/captcha/captcha-image64?login_site=E&module=login&rand=sjrand&1558493043961&callback=jQuery19103091774881838292_1558435064217&_=1558435064228'

    response = session.get(url)
    html_str = response.content.decode('utf-8')
    regex_start = re.compile("\{.*\}")
    html_json = regex_start.findall(html_str)[0]
    html_dict = json.loads(html_json)
    data = html_dict['image']
    # 图片64位编码转换
    # data = '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'
    a = base64.b64decode(data)
    b = open('hhh.png','wb')
    b.write(a)
    b.close()

    # 手动输入验证码坐标(windows自带看图工具,)
    code = raw_input('请输入验证码坐标：')
    answer = code.split(' ')
    answer_answer = ','.join(answer)
    html_code = '%2C'.join(answer)

    print html_code

    # 验证信息
    url = 'https://kyfw.12306.cn/passport/captcha/captcha-check?callback=jQuery19103091774881838292_1558435064217&answer=%s&rand=sjrand&login_site=E&_=1558435064225'%html_code
    headers = {'User-Agent':'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3676.400 QQBrowser/10.4.3505.400',
               'Referer':'https://kyfw.12306.cn/otn/resources/login.html',
               'Accept-Encoding':'gzip, deflate, br',
'Accept-Language':'zh-CN,zh;q=0.9',
    'Connection': 'keep-alive',
               'Host': 'kyfw.12306.cn',
               'Cookie':'_passport_ct=3c79e40d6a9e433fba06a29037f521d5t0080; _passport_session=6d6f99724ee54fbcb01ad26af2a3b3f14973; RAIL_EXPIRATION=1558730038643; RAIL_DEVICEID=P972uwlNYaS5As0-822aimN6Z48cGmjNgrYQWNKESttKt6dKQ85sDVuG7ROujeCeZtlOdL2b3QuIraRdIrO6d_iEhdmlamc56ff-IOZqCEoDW_i4SsOwwbkj05FOHgGQSXYrvw8mualLe8U2l-dfUmVjGDfSHXUJ; BIGipServerpassport=854065418.50215.0000; route=9036359bb8a8a461c164a04f8f50b252; BIGipServerpool_passport=300745226.50215.0000; BIGipServerotn=1039139338.50210.0000; _jc_save_toDate=2019-05-21; _jc_save_wfdc_flag=dc; _jc_save_fromStation=%u8FD0%u57CE%u5317%2CABV; _jc_save_toStation=%u5317%u4EAC%2CBJP; _jc_save_fromDate=2019-06-09'}
    response = session.get(url)

    print response.content.decode('utf-8')

    # 登录
    login_url = 'https://kyfw.12306.cn/passport/web/login'
    query_string = {'username':'18735934287',
                'password':'4587158cai',
                'appid':'otn',
                'answer':answer_answer
    }
    response = session.post(login_url,data = query_string,headers = headers, allow_redirects=False)
    print response.headers['Location']
    print response.content.decode('utf-8')












